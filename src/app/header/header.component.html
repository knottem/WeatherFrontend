<!-- app-header-comp.component.html -->
<div class="container mx-auto px-6 py-4 bg-white shadow-md">

  <!-- Top Section: Logo and Time for smaller screens -->
  <div class="flex justify-between items-center sm:hidden">
    <!-- Logo Container -->
    <div class="flex items-center mt-3">
      <h2 class="text-xl font-semibold text-gray-800">
        {{ 'header.weatherApp' | translate }}
      </h2>
    </div>

    <!-- Time Container -->
    <div class="flex items-center mt-3">
      <h2 class="text-xl font-semibold text-gray-800">
        {{ 'time' | translate }}: {{ currentTime }}
      </h2>
    </div>
  </div>

  <!-- Search Container for smaller screens -->
  <div class="flex-grow w-full mb-0 sm:hidden">
    <form class="flex">
      <input
        id="searchForm1"
        type="text"
        class="flex-grow px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent"
        placeholder= " {{ 'header.searchForCity' | translate }} "
        [formControl]="searchQuery"
        [matAutocomplete]="auto"
        (keyup.enter)="onEnterPress()"
        #searchInput
        #trigger="matAutocompleteTrigger"
      />
      <mat-autocomplete
        #auto="matAutocomplete"
        (optionSelected)="onCitySelected($event)"
      >
        <mat-option *ngFor="let city of filteredCities | async" [value]="city">
          {{ city }}
        </mat-option>
      </mat-autocomplete>
    </form>
  </div>

  <div *ngIf="isSmallScreen" class="flex items-center my-auto py-4">
    <select
      #languageSelectMobile
      (change)="switchLanguage(languageSelectMobile.value)"
      class="px-2 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent w-[160px]"
    >
      <option value="" disabled selected>{{ 'header.selectLanguage' | translate }}</option>
      <option
        *ngFor="let lang of languages"
        [value]="lang.code"
        [disabled]="lang.code === currentLanguage"
        class="bg-white dark:bg-gray-800 text-gray-900 dark:text-white"
        [ngClass]="{ 'disabled-option': lang.code === currentLanguage }"
      >
        {{ lang.name }}
      </option>
    </select>
  </div>


  <!-- Top Section sm+ screens -->
  <div class="hidden sm:flex flex-row justify-between items-center">
    <!-- Logo Container -->
    <div class="flex items-center mt-3">
      <h2 class="text-xl font-semibold text-gray-800">
        {{ 'header.weatherApp' | translate }}
      </h2>
    </div>

    <!-- Search Container -->
    <div class="flex-grow mx-6 w-auto mb-0">
      <form class="flex">
        <input
          id="searchForm2"
          type="text"
          class="flex-grow px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent"
          placeholder=" {{ 'header.searchForCity' | translate }} "
          [formControl]="searchQuery"
          [matAutocomplete]="auto"
          (keyup.enter)="onEnterPress()"
          #searchInput
          #trigger="matAutocompleteTrigger"
        />
        <mat-autocomplete
          #auto="matAutocomplete"
          (optionSelected)="onCitySelected($event)"
        >
          <mat-option
            *ngFor="let city of filteredCities | async"
            [value]="city"
          >
            {{ city }}
          </mat-option>
        </mat-autocomplete>
      </form>
    </div>

    <!-- Time Container -->
    <div class="flex items-center mt-3">
      <h2 class="text-xl font-semibold text-gray-800">
        {{ 'time' | translate }}: {{ currentTime }}
      </h2>
    </div>
  </div>

  <!-- Navigation Bar -->
  <nav class="flex mt-3">
    <div class="flex flex-row">
      <a
        class="my-2 px-7 pb-3.5 pt-4 text-xs uppercase leading-tight mr-2 md:mr-4 rounded-xl min-w-[120px] text-center"
        routerLink="/"
        [ngClass]="{
          'bg-neutral-100 text-neutral-500 hover:bg-neutral-300':
            !isRouteActive('/'),
          'bg-neutral-300 text-black font-semibold': isRouteActive('/')
        }"
        >{{ 'weather' | translate }}</a
      >

      <a
        class="my-2 block px-7 pb-3.5 pt-4 text-xs uppercase leading-tight mr-2 md:mr-4 rounded-xl min-w-[120px] text-center"
        routerLink="/about"
        [ngClass]="{
          'bg-neutral-100 text-neutral-500 hover:bg-neutral-300':
            !isRouteActive('/about'),
          'bg-neutral-300 text-black font-semibold': isRouteActive('/about')
        }"
        > {{ 'about.title' | translate }}</a
      >
    </div>

    <!-- Language Select -->
    <div *ngIf="!isSmallScreen" class="flex items-center ml-auto">
      <select
        #languageSelect
        (change)="switchLanguage(languageSelect.value)"
        class="px-2 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-gray-500 focus:border-transparent w-[160px]"
      >
        <option value="" disabled selected>{{ 'header.selectLanguage' | translate }}</option>
        <option
          *ngFor="let lang of languages"
          [value]="lang.code"
          [disabled]="lang.code === currentLanguage"
          class="bg-white dark:bg-gray-800 text-gray-900 dark:text-white"
          [ngClass]="{ 'disabled-option': lang.code === currentLanguage }"
        >
          {{ lang.name }}
        </option>
      </select>
    </div>

  </nav>
</div>
